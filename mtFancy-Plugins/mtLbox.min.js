$(function(t){t.fn.mtLbox=function(n){var d=t(this)[0].id,e=t(this)[0].className,o=" "==d?"#"+d:0==e.split(" ").length?"."+e:"."+e.split(" ")[0],a=t(t(this).find("img"));console.log(o),void 0===n&&(n={suffixImg:void 0}),i.init(o,n,a)};var i={init:function(t,i,n){this.setup(t,i,n)},setup:function(i,n,d){function e(t){var i=t.attr("src"),d=i.split("/")[i.split("/").length-1];return"<img src='"+(i.split(d)[0]+d.split(".")[0]+"-"+n.suffixImg+"."+d.split(".")[1])+"'>"}function o(t,i){if(t>h&&(a=h/t*100,t=h,i=i*a/100),i>l&&(a=l/i*100,i=l,t=t*a/100),!(t>h||i>l))return{trueWidth:t,trueHeight:i};arguments.callee(t,i)}var a,s,h=t(window).outerWidth(!0)<=375?90*t(window).outerWidth(!0)/100:80*t(window).outerWidth(!0)/100,l=t(window).outerHeight(!0)<=375?90*t(window).outerHeight(!0)/100:80*t(window).outerHeight(!0)/100;t("body").append('<div class="fullImg hidden">\t\t\t\t\t\t\t\t\t<div class="imgBox">\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t   </div>\t\t\t\t\t\t\t\t   <div class="navBox hidden">\t\t\t\t\t\t\t\t   \t<span class="prevBtn">&nbsp;</span>                                    <span class="close-lightBox"></span>\t\t\t\t\t\t\t\t\t<span class="nextBtn">&nbsp;</span>\t\t\t\t\t\t\t\t   </div>'),t(i).find("img").click(function(i){i.preventDefault();var a,h,l=50;void 0!==n.suffixImg?(t("body").find(".fullImg").append(e(t(this))).removeClass("hidden"),l=0):t("body").find(".fullImg").append(t(this)[0].outerHTML),t(".fullImg").find("img").load(function(){a=o(t(this).prop("naturalWidth"),t(this).prop("naturalHeight")).trueWidth,h=o(t(this).prop("naturalWidth"),t(this).prop("naturalHeight")).trueHeight,t("body").find(".fullImg").removeClass("hidden"),t("body").find(".navBox").removeClass("hidden"),t("body").find(".fullImg img").css({width:a,height:h}),setTimeout(function(){t("body").find(".fullImg img").addClass("appearOpa")},200),setTimeout(function(){t("body").find(".imgBox").css({width:a+20,height:h+20}),t("body").find(".navBox").css({width:a+20,height:h+20})},l)});var r=t(this);d.each(function(i){r.attr("src")==t(this).attr("src")&&(s=i)})}),t(".navBox").on("click",".prevBtn, .nextBtn",function(){"prevBtn"==t(this)[0].className?s>0?s--:s=t(i).find("img").length-1:"nextBtn"==t(this)[0].className&&(s<t(i).find("img").length-1?s++:s=0);var n=t(i).find("img")[s],d=o(t(n).prop("naturalWidth"),t(n).prop("naturalHeight")).trueWidth,e=o(t(n).prop("naturalWidth"),t(n).prop("naturalHeight")).trueHeight;setTimeout(function(){t("body").find(".fullImg").append(t(n)[0].outerHTML),t("body").find(".imgBox").css({width:d+20,height:e+20}),t("body").find(".navBox").css({width:d+20,height:e+20}),setTimeout(function(){t("body").find(".fullImg").children().eq(1).attr({width:d,height:e}).removeClass("appearOpa"),setTimeout(function(){t("body").find(".fullImg").children().eq(2).attr({width:d,height:e}).addClass("appearOpa")},150)},100),setTimeout(function(){if(t("body").find(".fullImg").children().eq(1).remove(),!t("body").find(".fullImg img").hasClass("appearOpa")){var i=o(t(n).prop("naturalWidth"),t(n).prop("naturalHeight")).trueWidth,d=o(t(n).prop("naturalWidth"),t(n).prop("naturalHeight")).trueHeight;t("body").find(".fullImg img").attr({width:i,height:d}).addClass("appearOpa")}},500)},150)}),t(".navBox").on("click",".close-lightBox",function(){t(".fullImg").addClass("hidden").find("img").remove(),t(".fullImg").find(".imgBox").css({width:"",height:""}),t(this).parent().addClass("hidden")}),t(window).resize(function(){t(this).outerWidth(!1)<=375&&!t(".fullImg").hasClass("hidden")?(h=90*t(this).outerWidth(!1)/100,l=90*t(this).outerHeight(!1)/100):(h=80*t(this).outerWidth(!1)/100,l=80*t(this).outerHeight(!1)/100);var i=o(t("body").find(".fullImg img").prop("naturalWidth"),t("body").find(".fullImg img").prop("naturalHeight")).trueWidth,n=o(t("body").find(".fullImg img").prop("naturalWidth"),t("body").find(".fullImg img").prop("naturalHeight")).trueHeight;t("body").find(".fullImg img").css({width:i,height:n}),t("body").find(".imgBox").css({width:i+20,height:n+20}),t("body").find(".navBox").css({width:i+20,height:n+20})})}}});